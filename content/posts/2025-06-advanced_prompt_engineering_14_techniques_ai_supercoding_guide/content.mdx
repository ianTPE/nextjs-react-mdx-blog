import { Alert, AlertDescription } from '@/components/ui/alert'
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'
import { Badge } from '@/components/ui/badge'
import { CodeBlock } from '@/components/code-block'

<Alert className="mb-6">
  <AlertDescription>
    ä½ æ˜¯å¦æ›¾ç¶“å°è‘—ChatGPTæˆ–Claudeåè¦†ä¿®æ”¹æç¤ºè©ï¼Œå»ç¸½æ˜¯å¾—ä¸åˆ°æ»¿æ„çš„ç­”æ¡ˆï¼Ÿä»Šå¤©ï¼Œæˆ‘å€‘å°‡æ·±å…¥æ¢è¨14ç¨®ç¶“éå¯¦è­‰çš„é«˜ç´šæç¤ºæŠ€è¡“ï¼Œå¹«åŠ©ä½ å¾¹åº•æŒæ¡èˆ‡AIå”ä½œçš„è—è¡“ã€‚
  </AlertDescription>
</Alert>

## ğŸ¯ ç‚ºä»€éº¼æç¤ºå·¥ç¨‹å¦‚æ­¤é‡è¦ï¼Ÿ

æ ¹æ“šæœ€æ–°ç ”ç©¶é¡¯ç¤ºï¼Œ**åƒ…åƒ…æ”¹è®Šæç¤ºæ–¹å¼å°±èƒ½è®“AIçš„ä»»å‹™è¡¨ç¾æå‡é«˜é”40%**ï¼é€™ä¸æ˜¯é­”æ³•ï¼Œè€Œæ˜¯ç§‘å­¸ã€‚

<Card className="mb-6 not-prose">
  <CardHeader>
    <CardTitle>ä¸‰å€‹é—œéµäº‹å¯¦</CardTitle>
  </CardHeader>
  <CardContent>
    <ol className="space-y-2">
      <li><strong>å¾®å°æ”¹è®Šï¼Œå·¨å¤§å½±éŸ¿</strong>ï¼šåŒæ¨£çš„AIæ¨¡å‹ï¼Œä½¿ç”¨ES-KNNæŠ€è¡“æ¯”åŸºç¤æç¤ºåœ¨å…‹éš†æª¢æ¸¬ä»»å‹™ä¸Šæº–ç¢ºç‡æå‡32%</li>
      <li><strong>éŒ¯èª¤æŠ€è¡“åè€Œæœ‰å®³</strong>ï¼šåœ¨ç¼ºé™·æª¢æ¸¬ä¸­ä½¿ç”¨æƒ…æ„Ÿæç¤º(Emotional Prompting)ï¼Œæ•ˆæœç”šè‡³ä¸å¦‚ç°¡å–®æŒ‡ä»¤</li>
      <li><strong>ä¸€æŠ€ä¸èƒ½é€šåƒ</strong>ï¼šæ²’æœ‰è¬èƒ½æŠ€è¡“ï¼Œé—œéµåœ¨æ–¼<strong>ä»»å‹™åŒ¹é…</strong></li>
    </ol>
  </CardContent>
</Card>

æ ¹æ“šæœ€æ–°æ¥­ç•Œå ±å‘Šï¼ˆ2025å¹´2æœˆï¼‰ï¼š
- <Badge variant="success">æç¤ºå·¥ç¨‹å¸«éœ€æ±‚å¢é•·434%</Badge>ï¼ˆLinkedInæ•¸æ“šï¼‰
- <Badge variant="success">èªè­‰æç¤ºå·¥ç¨‹å¸«è–ªè³‡é«˜27%</Badge>
- <Badge variant="success">68%ä¼æ¥­æä¾›æç¤ºå·¥ç¨‹åŸ¹è¨“</Badge>

---

## ğŸ”§ 14ç¨®é«˜ç´šæç¤ºæŠ€è¡“æ·±åº¦è§£æ

<Tabs defaultValue="es-knn" className="w-full">
  <TabsList className="grid w-full grid-cols-4">
    <TabsTrigger value="es-knn">ES-KNN</TabsTrigger>
    <TabsTrigger value="cot">CoTç³»åˆ—</TabsTrigger>
    <TabsTrigger value="tot">ToT</TabsTrigger>
    <TabsTrigger value="others">å…¶ä»–æŠ€è¡“</TabsTrigger>
  </TabsList>

  <TabsContent value="es-knn">
    ### 1. ğŸ¯ **Exemplar Selection KNN (ES-KNN)**
    
    **åŸç†**ï¼šä½¿ç”¨kè¿‘é„°ç®—æ³•æ‰¾å‡ºèªæ„æœ€ç›¸ä¼¼çš„ç¯„ä¾‹ï¼Œå‹•æ…‹æ§‹å»ºä¸Šä¸‹æ–‡

    **å¯¦æˆ°ç¯„ä¾‹**ï¼šå…‹éš†æª¢æ¸¬ä»»å‹™
    
    <CodeBlock language="python">
    {`# Step 1: å°‡ç›®æ¨™ä»£ç¢¼å‘é‡åŒ–
target_embedding = embed_code("""
def calculate_discount(price, rate):
    return price * (1 - rate)
""")

# Step 2: å¾è³‡æ–™åº«ä¸­æ‰¾å‡ºæœ€ç›¸ä¼¼çš„kå€‹ç¯„ä¾‹
similar_examples = knn_search(target_embedding, k=3)

# Step 3: æ§‹å»ºæç¤º
prompt = f"""
Based on these similar code examples:
{format_examples(similar_examples)}

Analyze if the following code is a clone:
{target_code}
"""`}
    </CodeBlock>

    **å„ªå‹¢**ï¼š
    - âœ… åœ¨å…‹éš†æª¢æ¸¬ä¸­æº–ç¢ºç‡æå‡32%
    - âœ… å°ä»£ç¢¼ç¿»è­¯ä»»å‹™æ•ˆæœé¡¯è‘—
    - âŒ Tokenæ¶ˆè€—é«˜ï¼ˆå¹³å‡å¢åŠ 85%ï¼‰
  </TabsContent>

  <TabsContent value="cot">
    ### 2. ğŸ§  **Chain-of-Thought (CoT) åŠå…¶è®Šé«”**

    #### **2a. Zero-shot CoT**
    <CodeBlock language="python">
    {`# æœ€ç°¡å–®çš„å¯¦ç¾ï¼šåŠ å…¥é­”æ³•å¥å­
prompt = f"""
{task_description}

Let's think step by step.
"""

# å¯¦æ¸¬æ•ˆæœæ›´å¥½çš„è®Šé«”ï¼ˆæ ¹æ“š2025å¹´ç ”ç©¶ï¼‰
prompt_v2 = f"""
{task_description}

Take a deep breath and work through this step by step.
"""`}
    </CodeBlock>

    #### **2b. Structured CoT (SCoT) - 2024å¹´æ–°æŠ€è¡“**
    **çªç ´æ€§ç™¼ç¾**ï¼šå°‡ç¨‹å¼çµæ§‹ï¼ˆåºåˆ—ã€åˆ†æ”¯ã€å¾ªç’°ï¼‰èå…¥æ¨ç†éç¨‹ï¼ŒPass@1æå‡13.79%ï¼

    <CodeBlock language="python">
    {`# SCoTç¯„ä¾‹ï¼šç”Ÿæˆæ–æ³¢é‚£å¥‘æ•¸åˆ—
prompt = """
Task: Write a function to calculate the nth Fibonacci number.

Let me structure my solution using programming constructs:

1. SEQUENCE Structure:
   - Define base cases (n=0, n=1)
   - Initialize variables for calculation
   
2. BRANCH Structure:
   - IF n <= 1: return n
   - ELSE: proceed to calculation
   
3. LOOP Structure:
   - FOR i from 2 to n:
     - Update current = prev1 + prev2
     - Shift values: prev2 = prev1, prev1 = current
     
Final code:
"""`}
    </CodeBlock>

    <Alert variant="success" className="mt-4">
      <AlertDescription>
        <strong>å¯¦æ¸¬çµæœ</strong>ï¼šåœ¨HumanEvalåŸºæº–æ¸¬è©¦ä¸­ï¼ŒGPT-3.5-turboä½¿ç”¨SCoTé”åˆ°67.08% Pass@1ï¼ˆvs. å‚³çµ±CoTçš„53.29%ï¼‰
      </AlertDescription>
    </Alert>
  </TabsContent>

  <TabsContent value="tot">
    ### 3. ğŸŒ³ **Tree of Thought (ToT)**
    
    **åŸç†**ï¼šæ¢ç´¢å¤šå€‹åˆ†æ”¯è·¯å¾‘ï¼Œå…è¨±å›æº¯å’Œè©•ä¼°

    **ç¶“å…¸æ‡‰ç”¨**ï¼š24é»éŠæˆ²
    <CodeBlock language="python">
    {`# ToTå¯¦ç¾æ¡†æ¶
def tree_of_thought_24_game(numbers):
    prompt = f"""
    Target: Use {numbers} with +,-,*,/ to get 24.
    
    I'll explore multiple approaches:
    
    Branch 1: Start with largest numbers
    - Try: {numbers[3]} * {numbers[2]} = ?
    - Evaluate: Too large/small? Worth continuing?
    
    Branch 2: Look for factor pairs
    - Try: Find two numbers that multiply to 24
    - Evaluate: Are there such pairs?
    
    Branch 3: Build incrementally
    - Try: Can I get close to 24 with 3 numbers?
    - Then adjust with the 4th?
    
    [Backtrack if needed and explore other branches]
    """
    return prompt`}
    </CodeBlock>

    **æ€§èƒ½æå‡**ï¼š
    - 24é»éŠæˆ²ï¼šæˆåŠŸç‡å¾CoTçš„4%æå‡åˆ°74%
    - å‰µæ„å¯«ä½œï¼šé€£è²«æ€§è©•åˆ†æå‡35%
  </TabsContent>

  <TabsContent value="others">
    ### å…¶ä»–é‡è¦æŠ€è¡“

    <div className="space-y-6">
      #### 4. ğŸ”„ **Universal Self Consistency (USC)**
      **åŸç†**ï¼šç”Ÿæˆå¤šå€‹ç­”æ¡ˆï¼Œé¸æ“‡æœ€ä¸€è‡´çš„

      <CodeBlock language="python">
      {`def usc_prompt(question, num_samples=5):
    prompt = f"""
    Question: {question}
    
    I'll provide {num_samples} independent solutions:
    
    Solution 1: [reasoning]...
    Solution 2: [different approach]...
    Solution 3: [alternative method]...
    ...
    
    Meta-analysis: Comparing all solutions, the most 
    consistent and reliable answer is...
    """
    return prompt`}
      </CodeBlock>

      #### 5. ğŸ” **Self-Refine (SR)**
      **åŸç†**ï¼šè¿­ä»£æ”¹é€²åˆå§‹å›æ‡‰

      <CodeBlock language="python">
      {`# ä¸‰æ­¥é©Ÿæ¡†æ¶
refine_prompt = """
Step 1 - Initial Solution:
{generate_initial_code}

Step 2 - Self-Critique:
- Check edge cases: empty input, single element
- Verify time complexity: Is it optimal?
- Code style: PEP 8 compliance?

Step 3 - Refined Solution:
{incorporate_improvements}
"""`}
      </CodeBlock>

      #### 6. ğŸ­ **Role Prompting (RP)**
      **2025å¹´é©šå–œç™¼ç¾**ï¼šåœ¨OpenAI o3-miniä¸Šæˆç‚ºå¤šæ•¸ä»»å‹™çš„æœ€ä½³é¸æ“‡ï¼

      <CodeBlock language="python">
      {`# é«˜æ•ˆç¯„ä¾‹
role_prompts = {
    "code_review": """
    Act as a senior software architect with 20 years 
    of experience in distributed systems. You're known 
    for catching subtle concurrency bugs.
    
    Review this code:
    {code}
    """,
    
    "algorithm_design": """
    You are Donald Knuth. Approach this problem with 
    the rigor of "The Art of Computer Programming".
    Consider both theoretical complexity and practical 
    implementation details.
    """
}`}
      </CodeBlock>

      <Alert variant="info">
        <AlertDescription>
          <strong>æˆæœ¬å„ªå‹¢</strong>ï¼šTokenä½¿ç”¨é‡æ¸›å°‘62%ï¼ŒåŒæ™‚ä¿æŒç«¶çˆ­åŠ›
        </AlertDescription>
      </Alert>
    </div>
  </TabsContent>
</Tabs>

---

## ğŸ’¡ å¯¦æˆ°æ¡ˆä¾‹ï¼šå¦‚ä½•é¸æ“‡æœ€ä½³æŠ€è¡“

<Card className="mb-6">
  <CardHeader>
    <CardTitle>æ¡ˆä¾‹1ï¼šè¤‡é›œBugä¿®å¾©</CardTitle>
    <CardDescription>ä¿®å¾©å¤šç·šç¨‹ç’°å¢ƒä¸‹çš„æ­»é–å•é¡Œ</CardDescription>
  </CardHeader>
  <CardContent>
    <p className="mb-4"><strong>æœ€ä½³æŠ€è¡“çµ„åˆ</strong>ï¼šToT + Self-Refine</p>
    <CodeBlock language="python">
    {`bug_fix_prompt = """
# Tree of Thought approach for deadlock debugging

Branch 1: Analyze lock acquisition order
- Thread A: lock1 -> lock2
- Thread B: lock2 -> lock1
- Diagnosis: Classic circular wait

Branch 2: Check resource hierarchy
- Are locks acquired in consistent order?
- Violation found at line 45

Branch 3: Explore solutions
- Option A: Enforce global lock ordering
- Option B: Use try-lock with timeout
- Option C: Redesign to lock-free structure

[Select Branch 3, Option A]

# Self-Refine the solution
Initial fix: Add lock ordering protocol
Critique: What about dynamic lock creation?
Refined fix: Implement lock registry with ordering
"""`}
    </CodeBlock>
  </CardContent>
</Card>

<Card>
  <CardHeader>
    <CardTitle>æ¡ˆä¾‹2ï¼šAPIè¨­è¨ˆä»»å‹™</CardTitle>
    <CardDescription>è¨­è¨ˆRESTful API for é›»å•†ç³»çµ±</CardDescription>
  </CardHeader>
  <CardContent>
    <p className="mb-4"><strong>æœ€ä½³æŠ€è¡“</strong>ï¼šES-KNN + Style Prompting</p>
    <CodeBlock language="python">
    {`api_design_prompt = """
# Similar successful API examples:
1. Stripe API - Clean resource naming
2. Shopify API - Consistent pagination
3. Amazon API - Robust error handling

# Apply these patterns with specific style:
- Use kebab-case for URLs
- Version in header, not URL  
- HATEOAS for discoverability

Design:
/api/products
/api/orders
/api/customers/{id}/orders
"""`}
    </CodeBlock>
  </CardContent>
</Card>

---

## ğŸ’° æ€§èƒ½èˆ‡æˆæœ¬çš„é»ƒé‡‘å¹³è¡¡

æ ¹æ“šæœ€æ–°ç ”ç©¶æ•¸æ“šï¼ˆ2025å¹´2æœˆï¼‰ï¼š

<Table>
  <TableHeader>
    <TableRow>
      <TableHead>æŠ€è¡“</TableHead>
      <TableHead>æ€§èƒ½æå‡</TableHead>
      <TableHead>Tokenæˆæœ¬</TableHead>
      <TableHead>éŸ¿æ‡‰æ™‚é–“</TableHead>
      <TableHead>å»ºè­°ä½¿ç”¨å ´æ™¯</TableHead>
    </TableRow>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell><Badge>ES-KNN</Badge></TableCell>
      <TableCell className="text-green-600">+32%</TableCell>
      <TableCell className="text-red-600">+85%</TableCell>
      <TableCell>å¿«é€Ÿ</TableCell>
      <TableCell>é—œéµä»»å‹™ã€æº–ç¢ºæ€§å„ªå…ˆ</TableCell>
    </TableRow>
    <TableRow>
      <TableCell><Badge>SCoT</Badge></TableCell>
      <TableCell className="text-green-600">+13.79%</TableCell>
      <TableCell className="text-orange-600">+45%</TableCell>
      <TableCell>ä¸­ç­‰</TableCell>
      <TableCell>è¤‡é›œä»£ç¢¼ç”Ÿæˆ</TableCell>
    </TableRow>
    <TableRow>
      <TableCell><Badge>ToT</Badge></TableCell>
      <TableCell className="text-green-600">+70% (24é»)</TableCell>
      <TableCell className="text-red-600">+200%</TableCell>
      <TableCell>æ…¢</TableCell>
      <TableCell>è¤‡é›œæ¨ç†ã€å¯ä»¥ç­‰å¾…</TableCell>
    </TableRow>
    <TableRow>
      <TableCell><Badge>USC</Badge></TableCell>
      <TableCell className="text-green-600">+25%</TableCell>
      <TableCell className="text-red-600">+150%</TableCell>
      <TableCell>æœ€æ…¢</TableCell>
      <TableCell>é«˜é¢¨éšªæ±ºç­–</TableCell>
    </TableRow>
    <TableRow>
      <TableCell><Badge>RP</Badge></TableCell>
      <TableCell>åŸºæº–</TableCell>
      <TableCell className="text-green-600">-62%</TableCell>
      <TableCell>å¿«é€Ÿ</TableCell>
      <TableCell>æ—¥å¸¸é–‹ç™¼ã€é ç®—å—é™</TableCell>
    </TableRow>
    <TableRow>
      <TableCell><Badge>Zero-shot CoT</Badge></TableCell>
      <TableCell className="text-green-600">+5%</TableCell>
      <TableCell className="text-green-600">+5%</TableCell>
      <TableCell>å¿«é€Ÿ</TableCell>
      <TableCell>å¿«é€ŸåŸå‹ã€ç°¡å–®ä»»å‹™</TableCell>
    </TableRow>
  </TableBody>
</Table>

### ğŸ¯ æˆæœ¬å„ªåŒ–ç­–ç•¥

<CodeBlock language="python">
{`def adaptive_prompting(task_complexity, budget_constraint):
    """æ ¹æ“šä»»å‹™è¤‡é›œåº¦å’Œé ç®—è‡ªå‹•é¸æ“‡æŠ€è¡“"""
    
    if budget_constraint == "strict":
        return "role_prompting"  # æœ€çœéŒ¢
    
    if task_complexity > 0.8:
                if 'time_sensitive' in locals() and time_sensitive: # è­¦å‘Š: 'time_sensitive' æœªåœ¨æ­¤è™•å®šç¾©
            return "structured_cot"  # å¹³è¡¡é¸æ“‡
        else:
            return "tree_of_thought"  # æœ€ä½³æ•ˆæœ
    
    if task_complexity < 0.3:
        return "zero_shot_cot"  # ç°¡å–®æœ‰æ•ˆ
    
    return "role_prompting" # æ–°å¢é è¨­å›å‚³è·¯å¾‘
`}
</CodeBlock>

---

## çµè«–èˆ‡ä¸‹ä¸€æ­¥

æŒæ¡é«˜ç´šæç¤ºå·¥ç¨‹æ˜¯æå‡AIå”ä½œæ•ˆç‡çš„é—œéµã€‚æœ¬æ–‡ä»‹ç´¹çš„14ç¨®æŠ€è¡“å„æœ‰å„ªåŠ£ï¼Œé—œéµåœ¨æ–¼æ ¹æ“šæ‚¨çš„å…·é«”ä»»å‹™ã€é ç®—å’Œæ™‚é–“é™åˆ¶ï¼Œåšå‡ºæ˜æ™ºçš„é¸æ“‡ã€‚

å¾ç°¡å–®ä¸”ç¶“æ¿Ÿå¯¦æƒ çš„ **Role Prompting** é–‹å§‹ï¼Œé€æ­¥å˜—è©¦ **SCoT** å’Œ **ToT** ç­‰æ›´è¤‡é›œçš„æŠ€è¡“ï¼Œæ‚¨å°‡æœƒç™¼ç¾AIçš„æ½›åŠ›é è¶…æƒ³åƒã€‚

<Alert>
  <AlertDescription>
    <strong>ç«‹å³é–‹å§‹å¯¦è¸å§ï¼</strong> é¸æ“‡ä¸€å€‹æ‚¨æ­£åœ¨é€²è¡Œçš„ç·¨ç¨‹ä»»å‹™ï¼Œå˜—è©¦ç”¨ä»Šå¤©å­¸åˆ°çš„è‡³å°‘ä¸‰ç¨®æŠ€è¡“ä¾†å„ªåŒ–æ‚¨çš„æç¤ºï¼Œä¸¦åœ¨åœ˜éšŠä¸­åˆ†äº«æ‚¨çš„ç™¼ç¾ã€‚
  </AlertDescription>
</Alert>
    


---

## ğŸ› ï¸ æ§‹å»ºä½ çš„æç¤ºå·¥ç¨‹å·¥å…·ç®±

### 1. **æç¤ºæ¨¡æ¿ç®¡ç†ç³»çµ±**

<CodeBlock language="python">
{`class PromptTemplate:
    def __init__(self, technique, domain):
        self.technique = technique
        self.domain = domain
        self.versions = []
        
    def add_version(self, template, performance_score):
        self.versions.append({
            'template': template,
            'score': performance_score,
            'timestamp': datetime.now()
        })
    
    def get_best(self):
        return max(self.versions, key=lambda x: x['score'])

# ä½¿ç”¨ç¯„ä¾‹
code_review_template = PromptTemplate("role_prompting", "code_review")
code_review_template.add_version(
    template="Act as a security-focused code reviewer...",
    performance_score=0.92
)`}
</CodeBlock>

### 2. **A/Bæ¸¬è©¦æ¡†æ¶**

<CodeBlock language="python">
{`async def prompt_ab_test(task, prompt_a, prompt_b, n=100):
    results_a = []
    results_b = []
    
    for _ in range(n):
        # éš¨æ©Ÿåˆ†é…
        if random.random() < 0.5:
            result = await llm.generate(prompt_a(task))
            results_a.append(evaluate(result))
        else:
            result = await llm.generate(prompt_b(task))
            results_b.append(evaluate(result))
    
    # çµ±è¨ˆåˆ†æ
    from scipy import stats
    t_stat, p_value = stats.ttest_ind(results_a, results_b)
    
    return {
        'technique_a_mean': np.mean(results_a),
        'technique_b_mean': np.mean(results_b),
        'p_value': p_value,
        'winner': 'A' if np.mean(results_a) > np.mean(results_b) else 'B'
    }`}
</CodeBlock>

### 3. **ç›£æ§èˆ‡å„ªåŒ–å„€è¡¨æ¿**

<CodeBlock language="python">
{`class PromptMonitor:
    def __init__(self):
        self.metrics = defaultdict(list)
    
    def log_usage(self, technique, task, tokens, latency, quality_score):
        self.metrics[technique].append({
            'task': task,
            'tokens': tokens,
            'latency': latency,
            'quality': quality_score,
            'cost': tokens * 0.002,  # å‡è¨­åƒ¹æ ¼
            'efficiency': quality_score / (tokens * 0.002)
        })
    
    def get_recommendations(self, task_type):
        # åŸºæ–¼æ­·å²æ•¸æ“šæ¨è–¦æœ€ä½³æŠ€è¡“
        task_metrics = [m for m in self.metrics.values() 
                       if m['task'] == task_type]
        
        return max(task_metrics, key=lambda x: x['efficiency'])`}
</CodeBlock>

---

## ğŸ”® æœªä¾†è¶¨å‹¢èˆ‡é€²éšæŠ€å·§

### 1. **Multi-Agentå”ä½œæ¨¡å¼**

<CodeBlock language="python">
{`# æœªä¾†è¶¨å‹¢ï¼šå¤šå°ˆå®¶å”ä½œ
multi_agent_prompt = """
[Security Expert]: Check for SQL injection vulnerabilities
[Performance Expert]: Analyze time complexity
[Architecture Expert]: Evaluate design patterns

[Consensus Building]
After individual analysis, experts discuss:
- Security expert raises concern about input validation
- Performance expert suggests caching strategy
- Architecture expert proposes repository pattern

[Final Solution]
Incorporating all expert feedback...
"""`}
</CodeBlock>

### 2. **è‡ªé©æ‡‰æç¤ºæŠ€è¡“**

<CodeBlock language="python">
{`class AdaptivePrompting:
    def __init__(self):
        self.performance_history = {}
    
    def select_technique(self, task_features):
        # åŸºæ–¼ä»»å‹™ç‰¹å¾µè‡ªå‹•é¸æ“‡
        if task_features['requires_creativity']:
            return 'tree_of_thought'
        elif task_features['needs_consistency']:
            return 'universal_self_consistency'
        elif task_features['budget_limited']:
            return 'role_prompting'
        else:
            return 'chain_of_thought'`}
</CodeBlock>

### 3. **æç¤ºå£“ç¸®æŠ€è¡“**

<CodeBlock language="python">
{`def compress_prompt(original_prompt):
    """æ¸›å°‘tokenåŒæ™‚ä¿æŒæ•ˆæœ"""
    # 1. ç§»é™¤å†—é¤˜
    # 2. ä½¿ç”¨ç¸®å¯«
    # 3. ç°¡åŒ–å¥å¼
    
    compressed = original_prompt
    compressed = re.sub(r'\b(for example|such as)\b', 'e.g.', compressed)
    compressed = re.sub(r'\b(that is)\b', 'i.e.', compressed)
    compressed = re.sub(r'\s+', ' ', compressed)
    
    return compressed`}
</CodeBlock>

---

## ğŸ çµèª

æç¤ºå·¥ç¨‹ä¸æ˜¯é­”æ³•ï¼Œè€Œæ˜¯ç³»çµ±åŒ–çš„å·¥ç¨‹å¯¦è¸ã€‚é€šéæœ¬æ–‡ä»‹ç´¹çš„14ç¨®æŠ€è¡“ï¼Œä½ å¯ä»¥ï¼š

1. **æå‡æ•ˆç‡**ï¼šé¸æ“‡é©åˆä»»å‹™çš„æŠ€è¡“ï¼Œå¹³å‡æå‡67%ç”Ÿç”¢åŠ›
2. **æ§åˆ¶æˆæœ¬**ï¼šä½¿ç”¨RPç­‰æŠ€è¡“é™ä½62% tokenæ¶ˆè€—
3. **ä¿è­‰è³ªé‡**ï¼šé€šéToTã€USCç­‰æŠ€è¡“æå‡æº–ç¢ºç‡

<Alert variant="default" className="mt-6">
  <AlertDescription>
    <strong>è¨˜ä½</strong>ï¼šæ²’æœ‰è¬èƒ½æŠ€è¡“ï¼Œåªæœ‰æœ€é©åˆçš„é¸æ“‡ã€‚å¾ä»Šå¤©é–‹å§‹ï¼Œå°‡é€™äº›æŠ€è¡“æ•´åˆåˆ°ä½ çš„é–‹ç™¼æµç¨‹ä¸­ï¼Œè®“AIçœŸæ­£æˆç‚ºä½ çš„è¶…ç´šç·¨ç¨‹å¤¥ä¼´ï¼
  </AlertDescription>
</Alert>

---

*å¦‚æœé€™ç¯‡æ–‡ç« å°ä½ æœ‰å¹«åŠ©ï¼Œè«‹åˆ†äº«çµ¦æ›´å¤šé–‹ç™¼è€…ã€‚*

> æœ¬æ–‡æ•´ç†è‡ª [arXiv:2506.05614](https://arxiv.org/abs/2506.05614)